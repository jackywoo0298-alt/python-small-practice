import random

def play():
    count_win = 0
    count = 0
    options = {"R": "✊", "P": "✋", "S": "✌️"}
    while True:
        user_choice = input("Enter R/P/S for rock/paper/scissor(‘E to exit’)：").upper().strip()
        computer_choice = random.choice(list(options.keys()))

        if user_choice == "E":
            break
        if user_choice not in options.keys():
            print("invalid input!")
            continue

        print(f"user_choice:{options[user_choice]}")
        print(f"computer_choice:{options[computer_choice]}")

        if user_choice == computer_choice:
            print("It's a tie!")
        else:
            if is_win(user_choice,computer_choice):
                count_win += 1
                print("You won!")
            else:
                print("you lose!")
        count += 1
   
    print()
    return f"Thank you for playing!You win {count_win} times out of {count} times!"

def is_win(user_choice,computer_choice):
    if (user_choice =='R' and computer_choice == 'S') or (user_choice =='S' and computer_choice == 'P')\
            or (user_choice =='P' and computer_choice == 'R'):
        return True
    return None

print(play())
